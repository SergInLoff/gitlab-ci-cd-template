## Версия V4.0
### Общее описание алгоритма работы

Данная версия работает на сопоставлении имен label, указанных в merge request. Сам pipline запускается ТОЛЬКО при создании MR, так что необходимо помнить, что для корректного запуска необходимо указывать имя сервиса выбирая тот или иной label.



### Настройка данной версии CI/CD

Для работы данной версии, необходимо:
1. Скопировать файл `env.local` из каталога `lib/service/v1.0/` для каждого сервиса.    
2. Заполнить заданные параметры в файле `env.local`
4. Определить префиксы всех сервисов, которые будут собираться в CI/CD. Например `service_a`. 
Прописать данные префиксы и пути к файлам проектов в справочнике `service_config` шаблона `lib/gitlab/ci/dynamic/ci/dynamic_templates/service-template.v2.0.gitlab-ci.yml` в своем репозитории проекта.
5. Прописать скопированный файл `.stable.dynamic.v2.0.gitlab-ci.yml` в настройках репозитория `Settings->CI/CD->General pipelines->Custom CI configuration path`